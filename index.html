<!DOCTYPE html>
<html>
  <head>
    <script src="./bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>

    <link rel="import" href="./bower_components/paper-button/paper-button.html">
    <link rel="import" href="./bower_components/paper-input/paper-input.html">
    <link rel="import" href="./bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="./bower_components/paper-progress/paper-progress.html">
    <link rel="import" href="./bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="./bower_components/paper-tooltip/paper-tooltip.html">
    <link rel="import" href="./bower_components/paper-tabs/paper-tabs.html">
    <link rel="import" href="./bower_components/paper-toggle-button/paper-toggle-button.html">
    <link rel="import" href="./bower_components/paper-listbox/paper-listbox.html">
    <link rel="import" href="./bower_components/paper-item/paper-item.html">
    <link rel="import" href="./bower_components/paper-slider/paper-slider.html">
    <link rel="import" href="./bower_components/paper-ripple/paper-ripple.html">
    <link rel="import" href="./bower_components/paper-material/paper-material.html">
    <link rel="import" href="./bower_components/paper-toast/paper-toast.html">
    <link rel="import" href="./bower_components/paper-fab/paper-fab.html">
    <link rel="import" href="./bower_components/paper-checkbox/paper-checkbox.html">

    <link rel="import" href="./bower_components/iron-icon/iron-icon.html">
    <link rel="import" href="./bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="./bower_components/iron-icons/hardware-icons.html">
    <link rel="import" href="./bower_components/iron-icons/av-icons.html">
    <link rel="import" href="./bower_components/iron-icons/image-icons.html">
    <link rel="import" href="./bower_components/iron-icons/editor-icons.html">

    <link rel="import" href="./bower_components/iron-pages/iron-pages.html">
    <link rel="import" href="./bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
    <link rel="import" href="./bower_components/paper-listbox/paper-listbox.html">

    <link rel="import" href="./bower_components/neon-animation/animations/slide-from-top-animation.html">
    <link rel="import" href="./bower_components/neon-animation/animations/fade-out-animation.html">
    
    <link rel="import" href="./bower_components/paper-autocomplete/paper-autocomplete.html">
    <link rel="import" href="./bower_components/progress-bubble/progress-bubble.html">

     <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,300italic,400italic,500italic,100,700,700italic,100italic' rel='stylesheet' type='text/css'/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link rel="stylesheet" href="css/fonts.css"/> 
    <link rel="stylesheet" href="css/main.css"/>

    <style is="custom-style">
    :root {
        --paper-input-container-color: #737373;
        --paper-input-container-focus-color: #00bcd4;
        --paper-progress-active-color: #00bcd4;
        --paper-tab-ink: #e3e3e3;
        --paper-slider-secondary-color: #bdbdbd;
        --paper-slider-active-color: #00bcd4;
        --paper-slider-knob-color: #00bcd4;
        
        --progress-bubble-stroke-color: #4ac5f8;
        --progress-bubble-bg-stroke-color: rgba(48, 48, 48, 0.4);
        --progress-bubble-background: transparent;
        --progress-bubble-reflection-display: none;
    }
    .torrentProgress {
        --paper-progress-active-color: #07A3E7 !important;
        --paper-progress-container-color: #272727 !important;
        --paper-progress-height: 12px !important;
    }
    paper-input.dark-input {
        --paper-input-container-color: #5c5e60;
        --paper-input-container-focus-color: #00bcd4;
        --paper-input-container-input-color: white;
        --paper-input-container-disabled: {
            opacity: 0.66;
            padding: 0;
            margin-top: -3px;
        };
        --paper-input-container: {
            padding: 0;
        };
        --paper-input-container-input: {
            height: 21px;
        };
    }
    paper-input.dark-input-large {
        --paper-input-container: {
            padding: 8px 0;
        };
        --paper-input-container-input: {
            height: 23.3px;
        };
    }
    paper-input.dl-input {
        --paper-input-container-input: {
            cursor: pointer !important;
        };
    }
    paper-toggle-button.playerTogglers {
        --paper-toggle-button-checked-bar-color: #0097a7;
        --paper-toggle-button-checked-button-color: #0097a7;
        --paper-toggle-button-checked-ink-color: #0097a7;
        --paper-toggle-button-unchecked-bar-color: #f50057;
        --paper-toggle-button-unchecked-button-color: #f50057;
        --paper-toggle-button-unchecked-ink-color: #f50057;
    }
    paper-toggle-button.mainTogglers {
        --paper-toggle-button-checked-bar-color: #4d97eb;
        --paper-toggle-button-checked-button-color: #4d97eb;
        --paper-toggle-button-checked-ink-color: #4d97eb;
    }

     paper-fab.yellow {
        --paper-fab-background: #e3b618 !important;
    }

     paper-fab.orange {
        --paper-fab-background: #e38318 !important;
    }

     paper-fab.green {
        --paper-fab-background: #11a34e !important;
    }
    
    .dashboard-buttons iron-icon {
       width: 30px !important;
        height: 30px !important;
     }
    paper-progress.green-progress {
        --paper-progress-active-color: var(--paper-light-green-500);
        --paper-progress-secondary-color: var(--paper-light-green-100);
    }
    </style>
    <style is="custom-style">
      paper-checkbox.dark {
        --paper-checkbox-unchecked-color: 'white';
        --paper-checkbox-unchecked-ink-color: 'white';
        --paper-checkbox-label-color: 'white';
      }
    </style>
    <style>
    .toggle-container {
        float: right;
    }
    .toggle-label {
        color: #fff !important;
        padding: 0 !important;
        vertical-align: middle;
        float: left;
    }
    .playerButtons {
        float: left;
        background: #303030;
        color: white;
        padding: 8px 15px;
        text-transform: none;
        font-size: 15px;
        font-weight: normal !important;
        margin-top: 0px;
        margin-right: 10px;
        margin-bottom: 12px;
        margin-left: 0px;
    }
    .playerButtons:hover {
        background: #404040;
    }
    .playerButtons-primary {
        float: left;
        background: #0097a7;
        color: #000;
        padding: 8px 15px;
        text-transform: none;
        font-size: 15px;
        font-weight: normal !important;
        margin-top: 0px;
        margin-right: 10px;
        margin-bottom: 12px;
        margin-left: 0px;
    }
    .playerButtons-primary:hover {
        background: #136e77;
    }
    paper-autocomplete input {
        color: white !important;
    }
    paper-autocomplete paper-material {
        background-color: #1d1d1d !important;
        color: white !important;
        overflow: auto !important;
    }
    paper-autocomplete paper-item:hover {
        background-color: #262626 !important;
        color: white !important;
    }
    paper-autocomplete paper-item.active {
        background-color: #262626 !important;
        color: white !important;
    }
    paper-autocomplete paper-icon-button {
        padding-right: 0 !important;
       color: #4BABF4 !important;
    }
    .subtitle-list .iron-selected {
        background-color: #444 !important;
        font-weight: normal;
    }
    </style>
    <title>Powder Player</title>
  </head>
  <body tabindex="-1">
     <div id="app">
        <p> p2p Player API</p>
        <input type="text" id="magnet_txt_id" value = 
        'magnet:?xt=urn:btih:7EB7A48ABA333727A16ABEDC0BF66F653F228A83&tr=http%3A%2F%2Fbt2.t-ru.org%2Fann%3Fmagnet&dn=%D0%9C%D0%BE%D1%80%D0%B5%20%D0%B2%20%D0%BE%D0%B3%D0%BD%D0%B5%20(%D0%9B%D0%B5%D0%BE%D0%BD%20%D0%A1%D0%B0%D0%B0%D0%BA%D0%BE%D0%B2)%20%5B1970%2C%20%D0%92%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%2C%20SATRip%5D'
        />
        <button onClick = on_magnet_click()> Add Magnet </button>
        <p></p>
        <input type="text" id="fn_txt_id" value = 'D:/node.js/[rutracker.org].podvig_odessy.torrent'/>
        <button onClick = on_add_torrent()> Add Torrent</button>
        <p></p>
        <button onClick = on_open_local_torrent()> open_local_torrent </button>
        <button onClick = on_open_local_video()> open_local_video </button>
        <p></p>
        <button onClick = on_get_torrent_path()> get_torrent_path </button>
        <button onClick = on_get_torrent_files_number()> get_torrent_files_number </button>
        <button onClick = on_get_torrent_current_progress()> get_torrent_current_progress </button>
        <p></p>
        <input type="text" id="file_index_id" value = '0'/>
        <button onClick = on_play_now()> Play Now </button>
        <button onClick = on_play()> Play </button>
        <button onClick = on_pause()> Pause </button>
        <button onClick = on_stop()> Stop </button>
        <p></p>
        <button onClick = on_get_playlist_items_count()> playlist_items_count </button>
        <button onClick = on_get_playlist_current_item()> playlist_current_item </button>
        <button onClick = on_log_playlist()> log_playlist </button>
        <button onClick = on_get_player_item_desc()> player_item_desc </button>
        <button onClick = on_get_player_position()> player_position </button>
        <p></p>
        <input type="text" id="player_position_id" value = '0.0'/>

        <button onClick = on_set_player_position()> set_player_position </button>

        <p>Player:</p>
         <canvas id="fake-canvas" style={{display: 'none'}} />
           <div className="wcjs-player">
                <!--PlayerHeader /-->
                <!--PlayerRender /-->
            <!--div className='render-holder' onWheel={this.wheel}>
                <div id="canvasEffect" style={{ position: 'absolute', width: '100%', height: '100%' }} />
                <div className="controls-background" onClick={this.handleTogglePlay} onDoubleClick={ControlActions.toggleFullscreen} style={{zIndex: '1'}}>
                    <paper-ripple id="rendererRipple" className="recenteringTouch" noink={this.state.rippleEffects ? this.state.clickPause ? false : true : true} fit />
                </div>
                <div ref="canvas-holder" className="canvas-holder" style={renderStyles.container}>
                    <canvas id={'playerCanvas'} style={renderStyles.canvas} onClick={this.handleTogglePlay} onDoubleClick={ControlActions.toggleFullscreen} ref="wcjs-render" />
                </div>
            </div-->

                <!--Announcement />
                <SubtitleText />
                <PlayerControls />
                <Playlist />
                <Settings />
                <SubtitleList />
                <CastingMenu />
                <div className="castingBackground" />
                <ReactNotify ref='notificator'/-->
            </div>
       </div>

    <script src="js/main.js"></script>

    <script type="text/javascript">
      if (process.env.NODE_ENV === 'development') {
          var head = document.getElementsByTagName('head')[0];
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = 'http://localhost:35729/livereload.js';
          head.appendChild(script);
    }

    function on_open_local_torrent(){
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.open_local_torrent();
    }

    function on_open_local_video(){
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.open_local_video();
    }

    function on_magnet_click(){
        var p2pPlayer = require('p2pPlayer');
        var url = document.getElementById("magnet_txt_id").value;
        p2pPlayer.api.open_magnet(url);
    }

    function on_add_torrent(){
        var p2pPlayer = require('p2pPlayer');
        var fn = document.getElementById("fn_txt_id").value;
        p2pPlayer.api.open_torrent(fn);
    }


    function on_get_torrent_path(){
        var p2pPlayer = require('p2pPlayer');
        var path = p2pPlayer.api.get_torrent_path();
        console.log("path = " + path);
    }

    function on_get_torrent_files_number(){
        var p2pPlayer = require('p2pPlayer');
        var torrent_files_number = p2pPlayer.api.get_torrent_files_number();
        console.log("torrent_files_number="+torrent_files_number);
    }

    function on_get_torrent_current_progress(){
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.get_torrent_current_progress();
    }

    function on_play_now(){
        var p2pPlayer = require('p2pPlayer');
        var file_index = document.getElementById("file_index_id").value;
        p2pPlayer.api.play_now(file_index);
    }

    function on_play()
    {
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.play();
    }

    function on_pause()
    {
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.pause();
    }

    function on_stop()
    {
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.stop();
    }

    function on_get_playlist_items_count(){
        var p2pPlayer = require('p2pPlayer');
        var playlist_items_count = p2pPlayer.api.get_playlist_items_count();
        console.log("playlist_items_count = " + playlist_items_count);
    }

    function on_get_playlist_current_item(){
        var p2pPlayer = require('p2pPlayer');
        var playlist_current_item = p2pPlayer.api.get_playlist_current_item();
        console.log("playlist_current_item = " + playlist_current_item);
    }

    function on_log_playlist(){
        var p2pPlayer = require('p2pPlayer');
        p2pPlayer.api.log_playlist();
    }

    function on_get_player_item_desc(){
        var p2pPlayer = require('p2pPlayer');
        var player_item_desc = p2pPlayer.api.get_player_item_desc();
        console.log("player_item_desc = " + player_item_desc);
    }

    function on_get_player_item_desc(){
        var p2pPlayer = require('p2pPlayer');
        var player_item_desc = p2pPlayer.api.get_player_item_desc();
        console.log("player_item_desc = " + player_item_desc);

        var player_item_duration = p2pPlayer.api.get_player_item_duration();
        console.log("player_item_duration = " + player_item_duration);

        var player_item_byteSize = p2pPlayer.api.get_player_item_byteSize();
        console.log("player_item_byteSize = " + player_item_byteSize);

        var player_item_path = p2pPlayer.api.get_player_item_path();
        console.log("player_item_path = " + player_item_path);

        var player_item_torrentHash = p2pPlayer.api.get_player_item_torrentHash();
        console.log("player_item_torrentHash = " + player_item_torrentHash);

        var player_item_title = p2pPlayer.api.get_player_item_title();
        console.log("player_item_title = " + player_item_title);
    }

    function on_get_player_position(){
        var p2pPlayer = require('p2pPlayer');
        var player_position = p2pPlayer.api.get_player_position();
        console.log("player_position = " + player_position);
    }

    function on_set_player_position(){
        var p2pPlayer = require('p2pPlayer');
        var pos = parseFloat(document.getElementById("player_position_id").value);
        p2pPlayer.api.set_player_position(pos);
    }

    </script>

  </body>
</html>
